<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Hangman Game</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="main.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js">

//word list
var wordlist = ["cat","dog","mouse","chicken","cow"]  

//Mystery Word
var targetWord = ""

//Guesses
var guesses =[];

//lives
var maxLives = 6


for( var i = 0; i< word.length; i++) {

}
 function newWord (){
     targetWord = wordlist[Math.floor(Math.random() * wordlist.length)];
 }          

function drawWord(){
    while (targetWord === ""){
        newWord();
    }
    $("#targetWord").html(targetWord);

}   

function drawGuesses(){
    guesses.sort();
    $("previousGuesses").html(guesses.join(", "));
}    

function cleanGuess(){
    var uniqueGuesses = [];
    $.each(guesses, function(index, element){
        if (element.length > 0 && $.inArray(element, uniqueGuesses)== -1){
            uniqueGuesses.push(element);
        }
    });
    guesses = uniqueGuesses;
}

function addGuess(){
    if(/^[a-zA-Z]*$/.test($("#guess").val()) && typeof $("#guess").val() !=="undefined"){
        guesses.push($("#guesses").val().toLowerCase());
    }
    $("#guess").vaule("");
}

function endgameDialog(isWinner){
    if (isWinner){
        $("#endGameDialogTitle").html("You've Won!");
        $("#endGameDialogContent").html("You Guessed " + targetWord + " in " + guesses.length + " attempts");
    }
    else{
        $("#endGameDialogTitle").html("You Lost!");
        $("#endGameDialogContent").html("The word was  " + targetWord);
    }
    $("#endGameDialog").modal("toggle");
}

fucntion reviewLives(){
    var livesRemaining = maxLives,
        string = targetWord.tolowercase();
    for (var i = 0; i < guess.length; i++) {
            if(string.indexOf(guesses[i], 0) ==-1){
                livesRemaining--;
            }
    }
    if(livesRemaining <= 0) {
        endGameDialog(false);
        return
    } 

}

//resets game
 function resetGame(){
    targetWord= "";
    guesses = [];
    newWord();
}

function update (){
    addGuess();
    cleanGuesses();
    drawWord();
    drawGuesses();
    reviewLives();

}

$(document).ready(function(){
    loadWorldlist();
    drawWord();
    drawGuesses();
    $("#guess").attr("onkeyup", "update();")

});    
            
            
            
            </script>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <h1>Simple 'Hangman' Game</h1>


        <div class="container">
                <div class="page-header">
                    <h1>Hangman | <strong>Stretch Projects</strong></h1>
                </div>
    
                <div class="col-md-2">
                    <div id="hangman_img" class="image0"></div>
                </div>
    
                <div id="word" class="col-md-4 text-center">
                    <h4>Your word is:</h4>
                    <p><strong id="targetWord"></strong></p>
                </div>
    
                <div id="guesses" class="col-md-4 text-center">
                    <h4>You have guessed</h4>
                    <p><strong id="previousGuesses"><em>nothing yet... guess a letter</em></strong></p>
                </div>
    
                <div class="row">
                    <div id="guessInput" class="col-md-8 text-center">
                        <br/>
                        <br/>
                        <br/>
                        <input type="text" maxlength="1" id="guess" placeholder="Type a letter" />
                    </div>
                </div>
            </div>
            <script src="js/jquery.min.js" type="text/javascript"></script>
            <script src="js/hangman.js" type="text/javascript"></script>
            <div class="modal fade" id="endGameDialog" tabindex="-1" role="dialog" aria-labelledby="endGameDialog" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4><a onclick="resetGame();" class="close" data-dismiss="modal" aria-hidden="true">&times;</a></h4>
                            <h4 id="endGameDialogTitle"></h4>
                        </div>
                        <div class="modal-body" id="endGameDialogContent"></div>
                        <div class="modal-footer">
                            <h4><a onclick="resetGame();" class="btn btn-primary" data-dismiss="modal">Reset</a></h4>
                        </div>
                    </div>
                </div>
            </div>
    </body>
</html>